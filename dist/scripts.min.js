let pokemonRepository=function(){let e=[],t=window.$;function n(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.log("please enter valid data")}function o(){return e}function a(e){pokemonRepository.loadDetails(e).then(function(){var n;let o,a,i,l,s,r,p;n=e,o=t(".modal-body"),(a=t(".modal-title")).empty(),o.empty(),i=t("<h1>"+n.name+"</h1>"),l=t("<p><strong>Height: </strong>"+n.height+"</p>"),s=t("<p><strong>Types: </strong>"+n.types.map(({type:e})=>e.name).join(", ")+"</p>"),r=t("<p><strong>Abilities: </strong>"+n.abilities.map(({ability:e})=>e.name).join(", ")+"</p>"),(p=t('<img class="modal-img">')).attr("src",n.imageUrl),a.append(i),o.append(l),o.append(s),o.append(r),o.append(p)})}document.querySelector(".navbar-brand").addEventListener("click",function(){location.reload()});let i=document.getElementById("searchBar"),l=document.getElementsByClassName("pokemon-list")[0];return i.addEventListener("keyup",e=>{let t=e.target.value.trim().toLowerCase();if(t.length){let n=l.getElementsByTagName("button");for(let o=0;o<n.length;o++){let a=n[o],i=a.innerText;i.toLowerCase().includes(t)?n[o].style.display="":n[o].style.display="none"}}else{let s=l.getElementsByTagName("button");for(let r=0;r<s.length;r++)s[r].style.display=""}}),{add:n,getAll:o,addListItem:function e(t){let n=document.querySelector(".pokemon-list"),o=document.createElement("button");o.innerText=t.name,o.classList.add("button-class"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#pokemon-modal"),n.appendChild(o),o.addEventListener("click",function(){a(t)})},loadList:function e(){let t,o;return t=document.querySelector(".pokemon-list"),(o=document.createElement("p")).classList.add("loading-message"),o.innerText="Loading pokemons, please wait",t.appendChild(o),fetch("https://pokeapi.co/api/v2/pokemon/?limit=50").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){let t={name:e.name,detailsUrl:e.url};document.querySelector(".pokemon-list").innerHTML="",n(t)})}).catch(function(e){console.error(e)})},loadDetails:function e(t){return fetch(t.detailsUrl).then(function(e){return e.json()}).then(function(e){t.imageUrl=e.sprites.other.dream_world.front_default,t.height=e.height,t.types=e.types,t.abilities=e.abilities}).catch(function(e){console.error(e)})},showDetails:a}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});