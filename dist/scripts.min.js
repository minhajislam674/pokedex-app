let pokemonRepository=function(){let e=[],t=window.$;function n(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.log("please enter valid data")}function o(){return e}function i(e){pokemonRepository.loadDetails(e).then(function(){var n;let o,i,a,l,r,s,p;n=e,o=t(".modal-body"),(i=t(".modal-title")).empty(),o.empty(),a=t("<h1>"+n.name+"</h1>"),l=t("<p><strong>Height: </strong>"+n.height+"</p>"),r=t("<p><strong>Types: </strong>"+n.types.map(({type:e})=>e.name).join(", ")+"</p>"),s=t("<p><strong>Abilities: </strong>"+n.abilities.map(({ability:e})=>e.name).join(", ")+"</p>"),(p=t('<img class="modal-img">')).attr("src",n.imageUrl),i.append(a),o.append(l),o.append(r),o.append(s),o.append(p)})}return{add:n,getAll:o,addListItem:function e(t){let n=document.querySelector(".pokemon-list"),o=document.createElement("li"),a=document.createElement("button");a.innerText=t.name,a.classList.add("button-class"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#pokemon-modal"),o.appendChild(a),n.appendChild(o),a.addEventListener("click",function(){i(t)})},loadList:function e(){let t,o;return t=document.querySelector(".pokemon-list"),(o=document.createElement("p")).classList.add("loading-message"),o.innerText="Loading pokemons, please wait",t.appendChild(o),fetch("https://pokeapi.co/api/v2/pokemon/?limit=200").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){let t={name:e.name,detailsUrl:e.url};document.querySelector(".pokemon-list").innerHTML="",n(t)})}).catch(function(e){console.error(e)})},loadDetails:function e(t){return fetch(t.detailsUrl).then(function(e){return e.json()}).then(function(e){t.imageUrl=e.sprites.other.dream_world.front_default,t.height=e.height,t.types=e.types,t.abilities=e.abilities}).catch(function(e){console.error(e)})},showDetails:i}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});
